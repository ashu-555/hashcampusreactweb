(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t){},143:function(e,t){},144:function(e,t){},145:function(e,t){},146:function(e,t){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(25),s=a.n(c),l=(a(66),a(4)),o=a.n(l),u=a(8),i=a(11),m=a(12),d={LOGIN:"LOGIN",GET_TOKEN:"GET_TOKEN",GET_USER:"GET_USER",GET_ALL_USERS:"GET_ALL_USERS"},p=a(7),b=a.n(p),f=function(){return{type:d.LOGIN}},h=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/user/infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var E=function(){var e=Object(m.c)((function(e){return e.auth})),t=e.user,a=e.isLogged,r=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/user/logout");case 3:localStorage.removeItem("firstLogin"),window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c={transform:a?"translateY(-5px)":0};return n.a.createElement("header",null,n.a.createElement("div",{className:"logo"},n.a.createElement("h1",null,n.a.createElement(i.b,{to:"/"},"hashCampus"))),n.a.createElement("ul",{style:c},a?n.a.createElement("li",{className:"drop-nav"},n.a.createElement(i.b,{to:"#",className:"avatar"},n.a.createElement("img",{src:t.avatar,alt:""})," ",t.name," ",n.a.createElement("i",{className:"fas fa-angle-down"})),n.a.createElement("ul",{className:"dropdown"},n.a.createElement("li",null,n.a.createElement(i.b,{to:"/profile"},"Profile")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/",onClick:r},"Logout")))):n.a.createElement("li",null,n.a.createElement(i.b,{to:"/login"},n.a.createElement("i",{className:"fas fa-user"})," Sign in"))))},v=a(10),g=a(9),O=a(2),j=a(6),w=(a(88),function(e){return n.a.createElement("div",{className:"errMsg"},e)}),k=function(e){return n.a.createElement("div",{className:"successMsg"},e)},y=a(58),x=a(59),_=a.n(x),N=(a(89),{email:"",password:"",err:"",success:""});var S=function(){var e=Object(r.useState)(N),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(m.b)(),l=Object(v.f)(),d=a.email,p=a.password,h=a.err,E=a.success,x=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(O.a)(Object(O.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},S=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.post("/user/login",{email:d,password:p});case 4:r=e.sent,c(Object(O.a)(Object(O.a)({},a),{},{err:"",success:r.data.msg})),localStorage.setItem("firstLogin",!0),s(f()),l.push("/brows"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/user/google_login",{tokenId:t.tokenId});case 3:r=e.sent,c(Object(O.a)(Object(O.a)({},a),{},{error:"",success:r.data.msg})),localStorage.setItem("firstLogin",!0),s(f()),l.push("/brows"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.accessToken,n=t.userID,e.next=4,b.a.post("/user/facebook_login",{accessToken:r,userID:n});case 4:u=e.sent,c(Object(O.a)(Object(O.a)({},a),{},{error:"",success:u.data.msg})),localStorage.setItem("firstLogin",!0),s(f()),l.push("/brows"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{class:"body"},n.a.createElement("div",{className:"login_page"},n.a.createElement("h2",null,"Login"),h&&w(h),E&&k(E),n.a.createElement("form",{onSubmit:S},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:d,name:"email",onChange:x})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:p,name:"password",onChange:x})),n.a.createElement("div",{className:"row"},n.a.createElement("button",{class:" bg-primary",type:"submit"},"Login"),n.a.createElement(i.b,{to:"/forgot_password"},"Forgot your password?"))),n.a.createElement("div",{className:"hr"},"Or Login With"),n.a.createElement("div",{className:"social"},n.a.createElement(y.GoogleLogin,{clientId:"318313263478-09emjnr69e10gjmruc6ladcp14v2fn01.apps.googleusercontent.com",buttonText:"Login with google",onSuccess:C,cookiePolicy:"single_host_origin"}),n.a.createElement(_.a,{appId:"390041882545610",autoLoad:!1,fields:"name,email,picture",callback:L})),n.a.createElement("p",null,"New Customer? ",n.a.createElement(i.b,{to:"/register",class:"text-light"},"Register"))))},C=function(e){return!e},L=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},A=function(e){return e.length<6},F=function(e,t){return e===t},T={name:"",email:"",password:"",cf_password:"",err:"",success:""};var G=function(){var e=Object(r.useState)(T),t=Object(j.a)(e,2),a=t[0],c=t[1],s=a.name,l=a.email,m=a.password,d=a.cf_password,p=a.err,f=a.success,h=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(O.a)(Object(O.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},E=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!C(s)&&!C(m)){e.next=3;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Please fill in all fields.",success:""})));case 3:if(L(l)){e.next=5;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Invalid emails.",success:""})));case 5:if(!A(m)){e.next=7;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 7:if(F(m,d)){e.next=9;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Password did not match.",success:""})));case 9:return e.prev=9,e.next=12,b.a.post("/user/register",{name:s,email:l,password:m});case 12:r=e.sent,c(Object(O.a)(Object(O.a)({},a),{},{err:"",success:r.data.msg})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{class:"body"},n.a.createElement("div",{className:"login_page"},n.a.createElement("h2",null,"Register"),p&&w(p),f&&k(f),n.a.createElement("form",{onSubmit:E},n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",placeholder:"Enter your name",id:"name",value:s,name:"name",onChange:h})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:l,name:"email",onChange:h})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:m,name:"password",onChange:h})),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),n.a.createElement("input",{type:"password",placeholder:"Confirm password",id:"cf_password",value:d,name:"cf_password",onChange:h})),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"submit",class:"bg-danger"},"Register"))),n.a.createElement("p",null,"Already an account? ",n.a.createElement(i.b,{to:"/login",class:"text-light"},"Login"))))};var I=function(){var e=Object(v.g)().activation_token,t=Object(r.useState)(""),a=Object(j.a)(t,2),c=a[0],s=a[1],l=Object(r.useState)(""),i=Object(j.a)(l,2),m=i[0],d=i[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.post("/user/activation",{activation_token:e});case 3:a=t.sent,d(a.data.msg),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.msg&&s(t.t0.response.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),n.a.createElement("div",{className:"active_page"},c&&w(c),m&&k(m))};var P=function(){return n.a.createElement("div",null,"404 | Not Found")},U=a(23),R=a.n(U),z=a(60),D=a.n(z),V=(a(117),a(36));a(147);V.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(V.a.version,"/pdf.worker.js");var Y=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],s=n.a.useState(!1),l=Object(j.a)(s,2),o=l[0],u=l[1],i=Object(r.useState)(null),m=Object(j.a)(i,2),d=(m[0],m[1],Object(r.useState)(1)),p=Object(j.a)(d,2);return p[0],p[1],Object(r.useEffect)((function(){fetch("http://localhost:5000/books").then((function(e){e.json().then((function(e){c(e.books)}))}))}),[]),n.a.createElement("div",{class:"browsehome"},n.a.createElement("div",{class:"Container videoheader bg-gray"},n.a.createElement("div",{className:"feature-title-browse"},n.a.createElement("h2",{className:"subtitles"},"Watch  Now"),n.a.createElement("br",null),n.a.createElement("h3",{className:"subtitle"},n.a.createElement("address",null,"Forever alone in a crowd,",n.a.createElement("br",null),"failed comedian Arthur Fleck seeks",n.a.createElement("br",null),"connection as he walks the streets of",n.a.createElement("br",null),"Gotham City. Arthur wears two",n.a.createElement("br",null),"masks, the one he paints for his",n.a.createElement("br",null),"day job as a clown, and the guise",n.a.createElement("br",null),"he projects in a futile attempt to ",n.a.createElement("br",null),"feel like he is part of the world",n.a.createElement("br",null),"around him.")),n.a.createElement("button",{class:"btnst btn bg-danger",onClick:function(){return u(!0)}},"Play"),n.a.createElement(D.a,{isOpen:o,onRequestClose:function(){return u(!1)}},n.a.createElement(R.a,{controls:!0,playIcon:!0,width:!0,height:"500px",url:"http://localhost:5000/videos/video/outside-the-wire"})))),n.a.createElement("div",{class:"container-fluid bg-light"},n.a.createElement("h1",{class:"text-dark"},"Documentaries"),n.a.createElement("div",{class:"row"},a.map((function(e,t){return n.a.createElement("div",{key:t,class:" col col-3"},n.a.createElement(R.a,{width:"18rem",height:"10rem",controls:!0,url:"http://localhost:5000/videos/video/tom-and-jerry"}),n.a.createElement("h5",{class:"text-dark"},e.title),n.a.createElement("br",null),n.a.createElement("h6",{class:"text-dark"},n.a.createElement("i",null,e.authors)))})))),n.a.createElement("div",{class:"container-fluid bg-light"},n.a.createElement("h1",{class:"text-dark"},"Comedies"),n.a.createElement("div",{class:"row"},a.map((function(e,t){return n.a.createElement("div",{key:t,class:" col col-3"},n.a.createElement(R.a,{width:"18rem",height:"10rem",controls:!0,url:"http://localhost:5000/videos/video/tom-and-jerry"}),n.a.createElement("h5",{class:"text-dark"},e.title),n.a.createElement("h6",{class:"text-dark"},n.a.createElement("i",null,e.authors)))})))),n.a.createElement("div",{class:"container-fluid bg-light"},n.a.createElement("h1",{class:"text-dark"},"Children"),n.a.createElement("div",{class:"row"},a.map((function(e,t){return n.a.createElement("div",{key:t,class:" col col-3"},n.a.createElement(R.a,{width:"18rem",height:"10rem",controls:!0,url:"http://localhost:5000/videos/video/tom-and-jerry"}),n.a.createElement("h5",{class:"text-dark"},e.title),n.a.createElement("h6",{class:"text-dark"},n.a.createElement("i",null,e.authors)))})))),n.a.createElement("div",{class:"container-fluid bg-light"},n.a.createElement("h1",{class:"text-dark"},"Feel-Good"),n.a.createElement("div",{class:"row"},a.map((function(e,t){return n.a.createElement("div",{key:t,class:" col col-3"},n.a.createElement(R.a,{width:"18rem",height:"10rem",controls:!0,url:"http://localhost:5000/videos/video/tom-and-jerry"}),n.a.createElement("h5",{class:"text-dark"},e.title),n.a.createElement("h6",{class:"text-dark"},n.a.createElement("i",null,e.authors)))})))),n.a.createElement("div",{class:"container-fluid bg-light"},n.a.createElement("h1",{class:"text-dark"},"Crime"),n.a.createElement("div",{class:"row"},a.map((function(e,t){return n.a.createElement("div",{key:t,class:" col col-3"},n.a.createElement(R.a,{width:"18rem",height:"10rem",controls:!0,url:"http://localhost:5000/videos/video/soul"}),n.a.createElement("h5",{class:"text-dark"},e.title),n.a.createElement("h6",{class:"text-dark"},n.a.createElement("i",null,e.authors)))})))))},W={email:"",err:"",success:""};var M=function(){var e=Object(r.useState)(W),t=Object(j.a)(e,2),a=t[0],c=t[1],s=a.email,l=a.err,i=a.success,m=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(s)){e.next=2;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Invalid emails.",success:""})));case 2:return e.prev=2,e.next=5,b.a.post("/user/forgot",{email:s});case 5:return t=e.sent,e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"",success:t.data.msg})));case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"fg_pass"},n.a.createElement("h2",null,"Forgot Your Password?"),n.a.createElement("div",{className:"row"},l&&w(l),i&&k(i),n.a.createElement("label",{htmlFor:"email"},"Enter your email address"),n.a.createElement("input",{type:"email",name:"email",id:"email",value:s,onChange:function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(O.a)(Object(O.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))}}),n.a.createElement("button",{onClick:m},"Verify your email")))},B=(a(148),{password:"",cf_password:"",err:"",success:""});var K=function(){var e=Object(r.useState)(B),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(v.g)().token,l=a.password,i=a.cf_password,m=a.err,d=a.success,p=function(e){var t,r=e.target,n=r.name,s=r.value;c(Object(O.a)(Object(O.a)({},a),{},(t={},Object(g.a)(t,n,s),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},f=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A(l)){e.next=2;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 2:if(F(l,i)){e.next=4;break}return e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"Password did not match.",success:""})));case 4:return e.prev=4,e.next=7,b.a.post("/user/reset",{password:l},{headers:{Authorization:s}});case 7:return t=e.sent,e.abrupt("return",c(Object(O.a)(Object(O.a)({},a),{},{err:"",success:t.data.msg})));case 11:e.prev=11,e.t0=e.catch(4),e.t0.response.data.msg&&c(Object(O.a)(Object(O.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"fg_pass"},n.a.createElement("h2",null,"Reset Your Password"),n.a.createElement("div",{className:"row"},m&&w(m),d&&k(d),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",id:"password",value:l,onChange:p}),n.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),n.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",value:i,onChange:p}),n.a.createElement("button",{onClick:f},"Reset Password")))},X=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/user/all_infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q={name:"",password:"",cf_password:"",err:"",success:""};var J=function(){var e=Object(m.c)((function(e){return e.auth})),t=Object(m.c)((function(e){return e.token})),a=e.user,c=e.isAdmin,s=Object(r.useState)(q),l=Object(j.a)(s,2),i=l[0],p=l[1],f=i.name,h=i.password,E=i.cf_password,v=i.err,y=i.success,x=Object(r.useState)(!1),_=Object(j.a)(x,2),N=_[0],S=_[1],C=Object(r.useState)(!1),L=Object(j.a)(C,2),T=L[0],G=L[1],I=Object(r.useState)(!1),P=Object(j.a)(I,2),U=P[0],R=(P[1],Object(m.b)());Object(r.useEffect)((function(){c&&X(t).then((function(e){R(function(e){return{type:d.GET_ALL_USERS,payload:e.data}}(e))}))}),[t,c,R,U]);var z=function(e){var t,a=e.target,r=a.name,n=a.value;p(Object(O.a)(Object(O.a)({},i),{},(t={},Object(g.a)(t,r,n),Object(g.a)(t,"err",""),Object(g.a)(t,"success",""),t)))},D=function(){var e=Object(u.a)(o.a.mark((function e(a){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,r=a.target.files[0]){e.next=5;break}return e.abrupt("return",p(Object(O.a)(Object(O.a)({},i),{},{err:"No files were uploaded.",success:""})));case 5:if(!(r.size>1048576)){e.next=7;break}return e.abrupt("return",p(Object(O.a)(Object(O.a)({},i),{},{err:"Size too large.",success:""})));case 7:if("image/jpeg"===r.type||"image/png"===r.type){e.next=9;break}return e.abrupt("return",p(Object(O.a)(Object(O.a)({},i),{},{err:"File format is incorrect.",success:""})));case 9:return(n=new FormData).append("file",r),G(!0),e.next=14,b.a.post("/api/upload_avatar",n,{headers:{"content-type":"multipart/form-data",Authorization:t}});case 14:c=e.sent,G(!1),S(c.data.url),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),p(Object(O.a)(Object(O.a)({},i),{},{err:e.t0.response.data.msg,success:""}));case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,v&&w(v),y&&k(y),T&&n.a.createElement("h3",null,"Loading.....")),n.a.createElement("div",{className:"profile_page"},n.a.createElement("div",{className:"col-left"},n.a.createElement("h2",null,c?"Admin Profile":"User Profile"),n.a.createElement("div",{className:"avatar"},n.a.createElement("img",{src:N||a.avatar,alt:""}),n.a.createElement("span",null,n.a.createElement("i",{className:"fas fa-camera"}),n.a.createElement("p",null,"Change"),n.a.createElement("input",{type:"file",name:"file",id:"file_up",onChange:D}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",name:"name",id:"name",defaultValue:a.name,placeholder:"Your name",onChange:z})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",id:"email",defaultValue:a.email,placeholder:"Your email address",disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"New Password"),n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Your password",value:h,onChange:z})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"cf_password"},"Confirm New Password"),n.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",placeholder:"Confirm password",value:E,onChange:z})),n.a.createElement("div",null,n.a.createElement("em",{style:{color:"crimson"}},"* If you update your password here, you will not be able to login quickly using google and facebook.")),n.a.createElement("button",{disabled:T,onClick:function(){(f||N)&&function(){try{b.a.patch("/user/update",{name:f||a.name,avatar:N||a.avatar},{headers:{Authorization:t}}),p(Object(O.a)(Object(O.a)({},i),{},{err:"",success:"Updated Success!"}))}catch(v){p(Object(O.a)(Object(O.a)({},i),{},{err:v.response.data.msg,success:""}))}}(),h&&function(){if(A(h))return p(Object(O.a)(Object(O.a)({},i),{},{err:"Password must be at least 6 characters.",success:""}));if(!F(h,E))return p(Object(O.a)(Object(O.a)({},i),{},{err:"Password did not match.",success:""}));try{b.a.post("/user/reset",{password:h},{headers:{Authorization:t}}),p(Object(O.a)(Object(O.a)({},i),{},{err:"",success:"Updated Success!"}))}catch(v){p(Object(O.a)(Object(O.a)({},i),{},{err:v.response.data.msg,success:""}))}}()}},"Update")),n.a.createElement("div",{className:"col-right"},n.a.createElement("h2",null,c?"Users":"My Orders"))))};var Z=function(){var e=Object(v.g)().id,t=Object(v.f)(),a=Object(r.useState)([]),c=Object(j.a)(a,2),s=c[0],l=c[1],i=Object(m.c)((function(e){return e.users})),d=Object(m.c)((function(e){return e.token})),p=Object(r.useState)(!1),f=Object(j.a)(p,2),h=f[0],E=f[1],g=Object(r.useState)(!1),O=Object(j.a)(g,2),y=O[0],x=O[1],_=Object(r.useState)(!1),N=Object(j.a)(_,2),S=N[0],C=N[1],L=Object(r.useState)(0),A=Object(j.a)(L,2),F=A[0],T=A[1];Object(r.useEffect)((function(){0!==i.length?i.forEach((function(t){t._id===e&&(l(t),E(1===t.role))})):t.push("/profile")}),[i,e,t]);var G=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F%2===0){e.next=7;break}return e.next=4,b.a.patch("/user/update_role/".concat(s._id),{role:h?1:0},{headers:{Authorization:d}});case 4:t=e.sent,C(t.data.msg),T(0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.msg&&x(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"profile_page edit_user"},n.a.createElement("div",{className:"row"},n.a.createElement("button",{onClick:function(){return t.goBack()},className:"go_back"},n.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})," Go Back")),n.a.createElement("div",{className:"col-left"},n.a.createElement("h2",null,"Edit User"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",name:"name",defaultValue:s.name,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",defaultValue:s.email,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"checkbox",id:"isAdmin",checked:h,onChange:function(){C(""),x(""),E(!h),T(F+1)}}),n.a.createElement("label",{htmlFor:"isAdmin"},"isAdmin")),n.a.createElement("button",{onClick:G},"Update"),y&&w(y),S&&k(S)))};a(149);var $=function(){return n.a.createElement("div",{className:"home_page"},n.a.createElement("div",{class:"in"},n.a.createElement("h1",null,"Unlimited  Videos Study Materials,  Audio, Notes and more."),n.a.createElement("h4",null,"Watch anywhere. Cancel anytime.Ready to watch? "),n.a.createElement("h5",null,"Enter your email to create or restart your membership."),n.a.createElement("input",{type:"text",placeholder:"Enter Your Email Address"}),n.a.createElement(i.b,{to:"/register",class:"btn sm btn-danger"}," Get Started")))};var H=function(){var e=Object(m.c)((function(e){return e.auth})),t=e.isLogged,a=e.isAdmin;return n.a.createElement("section",null,n.a.createElement(v.c,null,n.a.createElement(v.a,{path:"/",component:$,exact:!0}),n.a.createElement(v.a,{path:"/brows",component:t?Y:P,exact:!0}),n.a.createElement(v.a,{path:"/login",component:t?P:S,exact:!0}),n.a.createElement(v.a,{path:"/register",component:t?P:G,exact:!0}),n.a.createElement(v.a,{path:"/forgot_password",component:t?P:M,exact:!0}),n.a.createElement(v.a,{path:"/user/reset/:token",component:t?P:K,exact:!0}),n.a.createElement(v.a,{path:"/user/activate/:activation_token",component:I,exact:!0}),n.a.createElement(v.a,{path:"/profile",component:t?J:P,exact:!0}),n.a.createElement(v.a,{path:"/edit_user/:id",component:a?Z:P,exact:!0})))};var Q=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.token})),a=Object(m.c)((function(e){return e.auth}));return Object(r.useEffect)((function(){localStorage.getItem("firstLogin")&&function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/user/refresh_token",null);case 2:a=t.sent,e({type:"GET_TOKEN",payload:a.data.access_token});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[a.isLogged,e]),Object(r.useEffect)((function(){if(t){e(f()),h(t).then((function(t){e(function(e){return{type:d.GET_USER,payload:{user:e.data,isAdmin:1===e.data.role}}}(t))}))}}),[t,e]),n.a.createElement(i.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(E,null),n.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(24),te={user:[],isLogged:!1,isAdmin:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN:return Object(O.a)(Object(O.a)({},e),{},{isLogged:!0});case d.GET_USER:return Object(O.a)(Object(O.a)({},e),{},{user:t.payload.user,isAdmin:t.payload.isAdmin});default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GET_TOKEN:return t.payload;default:return e}},ne=[],ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GET_ALL_USERS:return t.payload;default:return e}},se=Object(ee.b)({auth:ae,token:re,users:ce}),le=Object(ee.c)(se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var oe=function(e){var t=e.children;return n.a.createElement(m.a,{store:le},t)};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(oe,null,n.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t){},61:function(e,t,a){e.exports=a(150)},66:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.21f46f63.chunk.js.map