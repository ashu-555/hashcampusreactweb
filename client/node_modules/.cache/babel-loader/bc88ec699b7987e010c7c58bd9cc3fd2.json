{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{isEmail}from'../../utils/validation/Validation';import{showErrMsg,showSuccessMsg}from'../../utils/notification/Notification';var initialState={email:'',err:'',success:''};function ForgotPassword(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var email=data.email,err=data.err,success=data.success;var handleChangeInput=function handleChangeInput(e){var _objectSpread2;var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(_objectSpread(_objectSpread({},data),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"err\",''),_defineProperty(_objectSpread2,\"success\",''),_objectSpread2)));};var forgotPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isEmail(email)){_context.next=2;break;}return _context.abrupt(\"return\",setData(_objectSpread(_objectSpread({},data),{},{err:'Invalid emails.',success:''})));case 2:_context.prev=2;_context.next=5;return axios.post('/user/forgot',{email:email});case 5:res=_context.sent;return _context.abrupt(\"return\",setData(_objectSpread(_objectSpread({},data),{},{err:'',success:res.data.msg})));case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);_context.t0.response.data.msg&&setData(_objectSpread(_objectSpread({},data),{},{err:_context.t0.response.data.msg,success:''}));case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function forgotPassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"fg_pass\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Forgot Your Password?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},err&&showErrMsg(err),success&&showSuccessMsg(success),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Enter your email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:email,onChange:handleChangeInput}),/*#__PURE__*/React.createElement(\"button\",{onClick:forgotPassword},\"Verify your email\")));}export default ForgotPassword;","map":{"version":3,"sources":["D:/gitzip/ReactwebHashcampus/client/src/components/body/auth/ForgotPassword.js"],"names":["React","useState","axios","isEmail","showErrMsg","showSuccessMsg","initialState","email","err","success","ForgotPassword","data","setData","handleChangeInput","e","target","name","value","forgotPassword","post","res","msg","response"],"mappings":"wyBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,mCAAtB,CACA,OAAQC,UAAR,CAAoBC,cAApB,KAAyC,uCAAzC,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,GAAG,CAAE,EAFY,CAGjBC,OAAO,CAAE,EAHQ,CAArB,CAMA,QAASC,CAAAA,cAAT,EAA0B,eACET,QAAQ,CAACK,YAAD,CADV,wCACfK,IADe,eACTC,OADS,kBAGfL,CAAAA,KAHe,CAGQI,IAHR,CAGfJ,KAHe,CAGRC,GAHQ,CAGQG,IAHR,CAGRH,GAHQ,CAGHC,OAHG,CAGQE,IAHR,CAGHF,OAHG,CAKtB,GAAMI,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,CAAC,CAAI,kCACLA,CAAC,CAACC,MADG,CACpBC,IADoB,WACpBA,IADoB,CACdC,KADc,WACdA,KADc,CAE3BL,OAAO,gCAAKD,IAAL,uDAAYK,IAAZ,CAAkBC,KAAlB,uCAA8B,EAA9B,2CAA2C,EAA3C,mBAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,cAAc,0FAAG,8IACff,OAAO,CAACI,KAAD,CADQ,yDAERK,OAAO,gCAAKD,IAAL,MAAWH,GAAG,CAAE,iBAAhB,CAAmCC,OAAO,CAAE,EAA5C,GAFC,+CAKGP,CAAAA,KAAK,CAACiB,IAAN,CAAW,cAAX,CAA2B,CAACZ,KAAK,CAALA,KAAD,CAA3B,CALH,QAKTa,GALS,+CAORR,OAAO,gCAAKD,IAAL,MAAWH,GAAG,CAAE,EAAhB,CAAoBC,OAAO,CAAEW,GAAG,CAACT,IAAJ,CAASU,GAAtC,GAPC,0DASf,YAAIC,QAAJ,CAAaX,IAAb,CAAkBU,GAAlB,EAAyBT,OAAO,gCAAKD,IAAL,MAAWH,GAAG,CAAG,YAAIc,QAAJ,CAAaX,IAAb,CAAkBU,GAAnC,CAAwCZ,OAAO,CAAE,EAAjD,GAAhC,CATe,oEAAH,kBAAdS,CAAAA,cAAc,0CAApB,CAaA,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,sDADJ,cAGI,2BAAK,SAAS,CAAC,KAAf,EACKV,GAAG,EAAIJ,UAAU,CAACI,GAAD,CADtB,CAEKC,OAAO,EAAIJ,cAAc,CAACI,OAAD,CAF9B,cAII,6BAAO,OAAO,CAAC,OAAf,6BAJJ,cAKI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,EAAE,CAAC,OAApC,CAA4C,KAAK,CAAEF,KAAnD,CACA,QAAQ,CAAEM,iBADV,EALJ,cAOI,8BAAQ,OAAO,CAAEK,cAAjB,sBAPJ,CAHJ,CADJ,CAeH,CAED,cAAeR,CAAAA,cAAf","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport {isEmail} from '../../utils/validation/Validation'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\n\nconst initialState = {\n    email: '',\n    err: '',\n    success: ''\n}\n\nfunction ForgotPassword() {\n    const [data, setData] = useState(initialState)\n\n    const {email, err, success} = data\n\n    const handleChangeInput = e => {\n        const {name, value} = e.target\n        setData({...data, [name]:value, err: '', success: ''})\n    }\n\n    const forgotPassword = async () => {\n        if(!isEmail(email))\n            return setData({...data, err: 'Invalid emails.', success: ''})\n            \n        try {\n            const res = await axios.post('/user/forgot', {email})\n\n            return setData({...data, err: '', success: res.data.msg})\n        } catch (err) {\n            err.response.data.msg && setData({...data, err:  err.response.data.msg, success: ''})\n        }\n    }\n    \n    return (\n        <div className=\"fg_pass\">\n            <h2>Forgot Your Password?</h2>\n\n            <div className=\"row\">\n                {err && showErrMsg(err)}\n                {success && showSuccessMsg(success)}\n\n                <label htmlFor=\"email\">Enter your email address</label>\n                <input type=\"email\" name=\"email\" id=\"email\" value={email}\n                onChange={handleChangeInput} />\n                <button onClick={forgotPassword}>Verify your email</button>\n            </div>\n        </div>\n    )\n}\n\nexport default ForgotPassword\n "]},"metadata":{},"sourceType":"module"}