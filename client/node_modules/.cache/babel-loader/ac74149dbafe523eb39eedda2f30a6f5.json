{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{useParams}from'react-router-dom';import{showErrMsg,showSuccessMsg}from'../../utils/notification/Notification';import{isLength,isMatch}from'../../utils/validation/Validation';import'./auth.css';var initialState={password:'',cf_password:'',err:'',success:''};function ResetPassword(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),token=_useParams.token;var password=data.password,cf_password=data.cf_password,err=data.err,success=data.success;var handleChangeInput=function handleChangeInput(e){var _objectSpread2;var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(_objectSpread(_objectSpread({},data),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"err\",''),_defineProperty(_objectSpread2,\"success\",''),_objectSpread2)));};var handleResetPass=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isLength(password)){_context.next=2;break;}return _context.abrupt(\"return\",setData(_objectSpread(_objectSpread({},data),{},{err:\"Password must be at least 6 characters.\",success:''})));case 2:if(isMatch(password,cf_password)){_context.next=4;break;}return _context.abrupt(\"return\",setData(_objectSpread(_objectSpread({},data),{},{err:\"Password did not match.\",success:''})));case 4:_context.prev=4;_context.next=7;return axios.post('/user/reset',{password:password},{headers:{Authorization:token}});case 7:res=_context.sent;return _context.abrupt(\"return\",setData(_objectSpread(_objectSpread({},data),{},{err:\"\",success:res.data.msg})));case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);_context.t0.response.data.msg&&setData(_objectSpread(_objectSpread({},data),{},{err:_context.t0.response.data.msg,success:''}));case 14:case\"end\":return _context.stop();}}},_callee,null,[[4,11]]);}));return function handleResetPass(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"fg_pass\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Reset Your Password\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},err&&showErrMsg(err),success&&showSuccessMsg(success),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,onChange:handleChangeInput}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"cf_password\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"cf_password\",id:\"cf_password\",value:cf_password,onChange:handleChangeInput}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleResetPass},\"Reset Password\")));}export default ResetPassword;","map":{"version":3,"sources":["D:/gitzip/ReactwebHashcampus/client/src/components/body/auth/ResetPassword.js"],"names":["React","useState","axios","useParams","showErrMsg","showSuccessMsg","isLength","isMatch","initialState","password","cf_password","err","success","ResetPassword","data","setData","token","handleChangeInput","e","target","name","value","handleResetPass","post","headers","Authorization","res","msg","response"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport {useParams} from 'react-router-dom'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nimport {isLength, isMatch} from '../../utils/validation/Validation'\nimport './auth.css'\n\n\nconst initialState = {\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\n\nfunction ResetPassword() {\n    const [data, setData] = useState(initialState)\n    const {token} = useParams()\n\n    const {password, cf_password, err, success} = data\n\n    const handleChangeInput = e => {\n        const {name, value} = e.target\n        setData({...data, [name]:value, err: '', success: ''})\n    }\n\n\n    const handleResetPass = async () => {\n        if(isLength(password))\n            return setData({...data, err: \"Password must be at least 6 characters.\", success: ''})\n\n        if(!isMatch(password, cf_password))\n            return setData({...data, err: \"Password did not match.\", success: ''})\n        \n        try {\n            const res = await axios.post('/user/reset', {password}, {\n                headers: {Authorization: token}\n            })\n\n            return setData({...data, err: \"\", success: res.data.msg})\n\n        } catch (err) {\n            err.response.data.msg && setData({...data, err: err.response.data.msg, success: ''})\n        }\n        \n    }\n\n\n    return (\n    \n        <div className =\"fg_pass\">\n            <h2>Reset Your Password</h2>\n\n            <div className=\"row\">\n                {err && showErrMsg(err)}\n                {success && showSuccessMsg(success)}\n\n                <label htmlFor=\"password\">Password</label>\n                <input type=\"password\" name=\"password\" id=\"password\" value={password}\n                onChange={handleChangeInput} />\n\n                <label htmlFor=\"cf_password\">Confirm Password</label>\n                <input type=\"password\" name=\"cf_password\" id=\"cf_password\" value={cf_password}\n                onChange={handleChangeInput} />         \n\n                <button onClick={handleResetPass}>Reset Password</button>\n            </div>\n        </div>\n\n        \n    )\n}\n\nexport default ResetPassword\n"]},"metadata":{},"sourceType":"module"}