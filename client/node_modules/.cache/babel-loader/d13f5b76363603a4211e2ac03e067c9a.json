{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{showErrMsg,showSuccessMsg}from'../../utils/notification/Notification';import{isEmpty,isEmail,isLength,isMatch}from'../../utils/validation/Validation';var initialState={name:'',email:'',password:'',cf_password:'',err:'',success:''};function Register(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,cf_password=user.cf_password,err=user.err,success=user.success;var handleChangeInput=function handleChangeInput(e){var _objectSpread2;var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,\"err\",''),_defineProperty(_objectSpread2,\"success\",''),_objectSpread2)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(isEmpty(name)||isEmpty(password))){_context.next=3;break;}return _context.abrupt(\"return\",setUser(_objectSpread(_objectSpread({},user),{},{err:\"Please fill in all fields.\",success:''})));case 3:if(isEmail(email)){_context.next=5;break;}return _context.abrupt(\"return\",setUser(_objectSpread(_objectSpread({},user),{},{err:\"Invalid emails.\",success:''})));case 5:if(!isLength(password)){_context.next=7;break;}return _context.abrupt(\"return\",setUser(_objectSpread(_objectSpread({},user),{},{err:\"Password must be at least 6 characters.\",success:''})));case 7:if(isMatch(password,cf_password)){_context.next=9;break;}return _context.abrupt(\"return\",setUser(_objectSpread(_objectSpread({},user),{},{err:\"Password did not match.\",success:''})));case 9:_context.prev=9;_context.next=12;return axios.post('/user/register',{name:name,email:email,password:password});case 12:res=_context.sent;setUser(_objectSpread(_objectSpread({},user),{},{err:'',success:res.data.msg}));_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](9);_context.t0.response.data.msg&&setUser(_objectSpread(_objectSpread({},user),{},{err:_context.t0.response.data.msg,success:''}));case 19:case\"end\":return _context.stop();}}},_callee,null,[[9,16]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{class:\"body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login_page\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Register\"),err&&showErrMsg(err),success&&showSuccessMsg(success),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter your name\",id:\"name\",value:name,name:\"name\",onChange:handleChangeInput})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Enter email address\",id:\"email\",value:email,name:\"email\",onChange:handleChangeInput})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Enter password\",id:\"password\",value:password,name:\"password\",onChange:handleChangeInput})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"cf_password\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Confirm password\",id:\"cf_password\",value:cf_password,name:\"cf_password\",onChange:handleChangeInput})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",class:\"bg-danger\"},\"Register\"))),/*#__PURE__*/React.createElement(\"p\",null,\"Already an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\",class:\"text-light\"},\"Login\"))));}export default Register;","map":{"version":3,"sources":["D:/gitzip/ReactwebHashcampus/client/src/components/body/auth/Register.js"],"names":["React","useState","Link","axios","showErrMsg","showSuccessMsg","isEmpty","isEmail","isLength","isMatch","initialState","name","email","password","cf_password","err","success","Register","user","setUser","handleChangeInput","e","target","value","handleSubmit","preventDefault","post","res","data","msg","response"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nimport {isEmpty, isEmail, isLength, isMatch} from '../../utils/validation/Validation'\n\n\nconst initialState = {\n    name: '',\n    email: '',\n    password: '',\n    cf_password: '',\n    err: '',\n    success: ''\n}\n\nfunction Register() {\n    const [user, setUser] = useState(initialState)\n\n    const {name, email, password,cf_password, err, success} = user\n\n    const handleChangeInput = e => {\n        const {name, value} = e.target\n        setUser({...user, [name]:value, err: '', success: ''})\n    }\n\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        if(isEmpty(name) || isEmpty(password))\n                return setUser({...user, err: \"Please fill in all fields.\", success: ''})\n\n        if(!isEmail(email))\n            return setUser({...user, err: \"Invalid emails.\", success: ''})\n\n        if(isLength(password))\n            return setUser({...user, err: \"Password must be at least 6 characters.\", success: ''})\n        \n        if(!isMatch(password, cf_password))\n            return setUser({...user, err: \"Password did not match.\", success: ''})\n\n        try {\n            const res = await axios.post('/user/register', {\n                name, email, password\n            })\n\n            setUser({...user, err: '', success: res.data.msg})\n        } catch (err) {\n            err.response.data.msg && \n            setUser({...user, err: err.response.data.msg, success: ''})\n        }\n    }\n\n    return (\n        <div class=\"body\">\n        <div className=\"login_page\">\n            <h2>Register</h2>\n            {err && showErrMsg(err)}\n            {success && showSuccessMsg(success)}\n\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\" placeholder=\"Enter your name\" id=\"name\"\n                    value={name} name=\"name\" onChange={handleChangeInput} />\n                </div>\n\n                <div>\n                    <label htmlFor=\"email\">Email Address</label>\n                    <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\n                    value={email} name=\"email\" onChange={handleChangeInput} />\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\n                    value={password} name=\"password\" onChange={handleChangeInput} />\n                </div>\n\n                <div>\n                    <label htmlFor=\"cf_password\">Confirm Password</label>\n                    <input type=\"password\" placeholder=\"Confirm password\" id=\"cf_password\"\n                    value={cf_password} name=\"cf_password\" onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <button type=\"submit\" class=\"bg-danger\">Register</button>\n                </div>\n            </form>\n\n            <p>Already an account? <Link to=\"/login\" class=\"text-light\">Login</Link></p>\n        </div>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}