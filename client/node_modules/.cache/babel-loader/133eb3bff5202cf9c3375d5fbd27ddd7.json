{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\gitzip\\\\ReactwebHashcampus\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Link}from'react-router-dom';import{useSelector}from'react-redux';import axios from'axios';function Header(){var auth=useSelector(function(state){return state.auth;});var user=auth.user,isLogged=auth.isLogged;var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/user/logout');case 3:localStorage.removeItem('firstLogin');window.location.href=\"/\";_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);window.location.href=\"/\";case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleLogout(){return _ref.apply(this,arguments);};}();var userLink=function userLink(){return/*#__PURE__*/React.createElement(\"li\",{className:\"drop-nav\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:user.avatar,alt:\"\"}),\" \",user.name,\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-down\"})),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/profile\"},\"Profile\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\",onClick:handleLogout},\"Logout\"))));};var transForm={transform:isLogged?\"translateY(-5px)\":0};return/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"hashCampus\"))),/*#__PURE__*/React.createElement(\"ul\",{style:transForm},isLogged?userLink():/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user\"}),\" Sign in\"))));}export default Header;","map":{"version":3,"sources":["D:/gitzip/ReactwebHashcampus/client/src/components/header/Header.js"],"names":["React","Link","useSelector","axios","Header","auth","state","user","isLogged","handleLogout","get","localStorage","removeItem","window","location","href","userLink","avatar","name","transForm","transform"],"mappings":"iUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,QAASC,CAAAA,MAAT,EAAkB,CACd,GAAMC,CAAAA,IAAI,CAAGH,WAAW,CAAC,SAAAI,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAV,EAAN,CAAxB,CADc,GAGPE,CAAAA,IAHO,CAGWF,IAHX,CAGPE,IAHO,CAGDC,QAHC,CAGWH,IAHX,CAGDG,QAHC,CAMd,GAAMC,CAAAA,YAAY,0FAAG,yKAEPN,CAAAA,KAAK,CAACO,GAAN,CAAU,cAAV,CAFO,QAGbC,YAAY,CAACC,UAAb,CAAwB,YAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CAJa,+EAMbF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CANa,oEAAH,kBAAZN,CAAAA,YAAY,0CAAlB,CAUA,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,mBAAO,0BAAI,SAAS,CAAC,UAAd,eACH,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,QAAvB,eACA,2BAAK,GAAG,CAAET,IAAI,CAACU,MAAf,CAAuB,GAAG,CAAC,EAA3B,EADA,KACiCV,IAAI,CAACW,IADtC,kBAC4C,yBAAG,SAAS,CAAC,mBAAb,EAD5C,CADG,cAIH,0BAAI,SAAS,CAAC,UAAd,eACI,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAC,UAAT,YAAJ,CADJ,cAEI,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAET,YAAtB,WAAJ,CAFJ,CAJG,CAAP,CASH,CAVD,CAYA,GAAMU,CAAAA,SAAS,CAAG,CACdC,SAAS,CAAEZ,QAAQ,CAAG,kBAAH,CAAwB,CAD7B,CAAlB,CAIA,mBACI,+CACI,2BAAK,SAAS,CAAC,MAAf,eACI,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,eAAJ,CADJ,CADJ,cAKI,0BAAI,KAAK,CAAEW,SAAX,EAGQX,QAAQ,CACNQ,QAAQ,EADF,cAEP,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eAAkB,yBAAG,SAAS,CAAC,aAAb,EAAlB,YAAJ,CALT,CALJ,CADJ,CAiBH,CAED,cAAeZ,CAAAA,MAAf","sourcesContent":["import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {useSelector} from 'react-redux'\nimport axios from 'axios'\n\n\nfunction Header() {\n    const auth = useSelector(state => state.auth)\n\n    const {user, isLogged} = auth\n\n\n    const handleLogout = async () => {\n        try {\n            await axios.get('/user/logout')\n            localStorage.removeItem('firstLogin')\n            window.location.href = \"/\";\n        } catch (err) {\n            window.location.href = \"/\";\n        }\n    }\n\n    const userLink = () => {\n        return <li className=\"drop-nav\">\n            <Link to=\"#\" className=\"avatar\">\n            <img src={user.avatar} alt=\"\"/> {user.name} <i className=\"fas fa-angle-down\"></i>\n            </Link>\n            <ul className=\"dropdown\">\n                <li><Link to=\"/profile\">Profile</Link></li>\n                <li><Link to=\"/\" onClick={handleLogout}>Logout</Link></li>\n            </ul>\n        </li>\n    }\n\n    const transForm = {\n        transform: isLogged ? \"translateY(-5px)\" : 0\n    }\n\n    return (\n        <header>\n            <div className=\"logo\">\n                <h1><Link to=\"/\">hashCampus</Link></h1>\n            </div>\n\n            <ul style={transForm}>\n               \n                {\n                    isLogged\n                    ? userLink()\n                    :<li><Link to=\"/login\"><i className=\"fas fa-user\"></i> Sign in</Link></li>\n                }\n                \n            </ul>\n        </header>\n    )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}